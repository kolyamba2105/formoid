(()=>{"use strict";var e,r,n,t={927:(e,r,n)=>{var t=n(458),l=n(983),o=n(520),a=Object.defineProperty,u=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(e,r,n)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,p=(e,r)=>{for(var n in r||(r={}))c.call(r,n)&&d(e,n,r[n]);if(s)for(var n of s(r))f.call(r,n)&&d(e,n,r[n]);return e},m=(e,r)=>u(e,i(r)),h=(e,r,n)=>new Promise(((t,l)=>{var o=e=>{try{u(n.next(e))}catch(e){l(e)}},a=e=>{try{u(n.throw(e))}catch(e){l(e)}},u=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);u((n=n.apply(e,r)).next())}));function b(e,r){let n={};for(let t in e)n[t]=r(e[t],t);return n}function v(e){return Object.entries(e)}function g(e,r){Object.entries(e).forEach((([e,n])=>r(n,e)))}var y=e=>({id:"Failure",failure:e});function x(e){return"Failure"===e.id}var j=e=>({id:"Success",success:e});function O(e){return"Success"===e.id}function P(e){if(x(e))throw new Error(`Cannot extract 'success' from Result - ${JSON.stringify(e)}`);return e.success}var C={};((e,r)=>{for(var n in r)a(e,n,{get:r[n],enumerable:!0})})(C,{chain:()=>V,defined:()=>T,fromPredicate:()=>N,lengthRange:()=>Y,match:()=>H,max:()=>L,maxLength:()=>q,min:()=>I,minLength:()=>D,of:()=>E,orElse:()=>B,parallel:()=>F,range:()=>X,sequence:()=>_,transform:()=>M,tryCatch:()=>A});var k=e=>[e];function S(e,r){return e<0||e>=r.length}function w(e,r){return function(n){let t=n.slice();return S(e,t)||t.splice(e,1,r(t[e])),t}}var E=e=>Promise.resolve(j(e));function N(e,r){return function(n){return Promise.resolve(function(e,r){return n=>e(n)?j(n):y(r())}(e,(()=>k(r)))(n))}}function A(e,{onFailure:r,onSuccess:n}){return function(t){return h(this,null,(function*(){try{return j(n(yield e(t)))}catch(e){return y(k(r(e)))}}))}}function M(e,r){return void 0!==r?n=>h(this,null,(function*(){return Promise.resolve(function(e,r){return O(r)?j(e(r.success)):y(r.failure)}(e,yield r(n)))})):r=>M(e,r)}function R(e,r){return e.then((e=>O(e)?r(e.success):y(e.failure)))}function V(e){return r=>n=>R(r(n),e)}function B(e,r){return void 0!==r?function(n){return e(n).then((e=>x(e)?r(n):e))}:r=>B(e,r)}function _(...e){return function(r){return e.reduce(R,Promise.resolve(j(r)))}}function F(...e){return function(r){return h(this,null,(function*(){let n=(yield Promise.all(e.map((e=>e(r))))).flatMap((e=>x(e)?e.failure:[]));return function(e){return e.length>0}(n)?y(n):j(r)}))}}function z(e){return null!=e}function T(e){return N(z,e)}function I(e,r){return N((r=>r>=e),r)}function L(e,r){return N((r=>r<=e),r)}function X(e,r,n){return N((n=>n>=e&&n<=r),n)}function D(e,r){return N((r=>r.trim().length>=e),r)}function q(e,r){return N((r=>r.trim().length<=e),r)}function Y(e,r,n){return N((n=>n.trim().length>=e&&n.trim().length<=r),n)}function H(e,r){return N((r=>e.test(r)),r)}function G(e){return{disabled:!1,errors:null,touched:!1,value:e}}function J(e){return b(e,G)}function Q(e){return b(e,(({value:e})=>e))}function Z(e,r){return b(e,((e,n)=>Object.assign(e,{value:r[n]})))}function K(e){return b(e,(({errors:e})=>e))}function U(e){return{blur:r=>m(p({},e),{[r]:m(p({},e[r]),{touched:!0})}),change:(r,n)=>m(p({},e),{[r]:m(p({},e[r]),{value:n})}),disable:r=>m(p({},e),{[r]:m(p({},e[r]),{disabled:!0})}),enable:r=>m(p({},e),{[r]:m(p({},e[r]),{disabled:!1})}),setErrors:(r,n)=>m(p({},e),{[r]:m(p({},e[r]),{errors:n})})}}function W({fieldArray:e,schema:r,validationStrategy:n}){function t(n,t){let l=r[t];null==l||l(e.state[n][t].value).then((r=>{e.setErrors(n,t,x(r)?r.failure:null)}))}return e.state.map(((r,l)=>b(r,((r,o)=>m(p({},r),{onBlur:()=>{e.blur(l,o),"onBlur"===n&&t(l,o)},onChange:r=>{e.change(l,o,r),"onChange"===n&&t(l,o)}})))))}function $(e){return function(e,r){for(let n in e)if(r(e[n]))return!0;return!1}(e,x)?y(b(e,(e=>x(e)?e.failure:null))):j(b(e,P))}function ee(e,r){return h(this,null,(function*(){let n=v(r).map((r=>h(this,[r],(function*([r,n]){let t=e[r],l=null!=n?n:E;return[r,yield l(t)]}))));return $(Object.fromEntries(yield Promise.all(n)))}))}function re(e,r){return h(this,null,(function*(){let n=v(e).map((([e,n])=>function(e,r){return h(this,null,(function*(){let n=(yield Promise.all(e.map((e=>ee(e,r))))).reduce(((e,r)=>(x(r)?e.errors.push(r.failure):(e.errors.push(null),e.values.push(r.success)),e)),{errors:[],values:[]});return n.errors.some((e=>null!==e))?y(n.errors):j(n.values)}))}(n,r[e]).then((r=>[e,r]))));return $(Object.fromEntries(yield Promise.all(n)))}))}function ne(e){let r=(0,l.useRef)(e),[n,t]=(0,l.useState)(r.current.map(J)),o=(0,l.useMemo)((()=>n.map(K)),[n]),a=(0,l.useMemo)((()=>n.map(Q)),[n]),u=(0,l.useCallback)((e=>{t((r=>r.concat(J(e))))}),[]),i=(0,l.useCallback)(((e,r)=>{t(w(e,(e=>U(e).blur(r))))}),[]),s=(0,l.useCallback)(((e,r,n)=>{t(w(e,(e=>U(e).change(r,n))))}),[]),c=(0,l.useCallback)(((e,r)=>{t(w(e,(e=>U(e).disable(r))))}),[]),f=(0,l.useCallback)(((e,r)=>{t(w(e,(e=>U(e).enable(r))))}),[]),d=(0,l.useCallback)((e=>{t(function(e){return function(r){let n=r.slice();return S(e,r)||n.splice(e,1),n}}(e))}),[]),p=(0,l.useCallback)((e=>{var n;t((null!=(n=null==e?void 0:e(a))?n:r.current).map(J))}),[a]),m=(0,l.useCallback)(((e,r,n)=>{t(w(e,(e=>U(e).setErrors(r,n))))}),[]),h=(0,l.useCallback)(((e,r)=>{t(w(e,(e=>Z(e,r(Q(e))))))}),[]),b=(0,l.useCallback)((e=>{a.forEach(((r,n)=>{g(r,((r,t)=>("enable"===e?f:c)(n,t)))}))}),[c,f,a]),v=(0,l.useCallback)((e=>{e.forEach(((e,r)=>{e?g(e,((e,n)=>m(r,n,e))):g(a[r],((e,n)=>m(r,n,null)))}))}),[m,a]);return{state:n,errors:o,values:a,append:u,blur:i,change:s,disable:c,enable:f,remove:d,reset:p,setErrors:m,setValues:h,propagateErrors:v,toggle:b}}var te=n(608),le=n.n(te);const oe={button:"SjR7DOr4ksmV2EqdC9j2",danger:"SOlEIspDRB7up8G_9_d6",info:"KaxObFuc4QsREsMmeIYm",light:"Xu3tpjuEDdgMkdGygCbP",primary:"cEXk4tmYGXiPatiIXCId",secondary:"oDuZ7igQ35cbozqZs59h",success:"wjyBswDaPwAoH8vLV2BA",warning:"BjIfrgPlBaXLa3zJ0cJQ",sm:"ovbXUakE9Y5kDGzjNxXf",md:"zErmRCf_1lt102xXD0Pe",lg:"OllXr61O9Ypg5hsMVa5C",loading:"rmvYHif8WpK9m9u3H_bz"};var ae=function(){return ae=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var l in r=arguments[n])Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);return e},ae.apply(this,arguments)},ue=function(e){var r=e.className,n=e.color,l=void 0===n?"primary":n,o=e.loading,a=void 0!==o&&o,u=e.size,i=void 0===u?"md":u,s=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n}(e,["className","color","loading","size"]);return(0,t.jsx)("button",ae({},s,{className:le()(oe.button,oe[l],oe[i],a&&oe.loading,r),disabled:s.disabled||a}))},ie=n(531);const se={input:"yqtwONnRvbyvcWZjCwui",sm:"oe5MOSPFtlTUa6SnMTum",md:"eRH5AkfFwAwmtPpP2Cqb",lg:"prawojrGSB5suaLHVyAT",invalid:"R_55nJC5TwMUO_QyHws2",readOnly:"kKskuVaAyytVYSHCOZDb",error:"qooxbOyJzXjQoiSdnV19"};var ce=function(){return ce=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var l in r=arguments[n])Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);return e},ce.apply(this,arguments)},fe=function(e){var r=e.className,n=e.errors,o=e.onBlur,a=e.onChange,u=e.size,i=void 0===u?"md":u,s=(e.touched,function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n}(e,["className","errors","onBlur","onChange","size","touched"])),c=null!==n,f=(0,l.useState)(c),d=f[0],p=f[1];return(0,t.jsx)(ie.zt,{children:(0,t.jsxs)(ie.fC,{open:d,children:[(0,t.jsx)(ie.xz,{asChild:!0,children:(0,t.jsx)("input",ce({},s,{className:le()(se.input,se[i],s.readOnly&&se.readOnly,c&&se.invalid,r),onBlur:function(){o(),c&&p(!1)},onChange:function(e){a(e.currentTarget.value)},onFocus:function(e){var r;null===(r=s.onFocus)||void 0===r||r.call(s,e),c&&p(!0)},onMouseEnter:function(e){var r;null===(r=s.onMouseEnter)||void 0===r||r.call(s,e),c&&p(!0)},onMouseLeave:function(e){var r;null===(r=s.onMouseLeave)||void 0===r||r.call(s,e),c&&p(!1)}}))}),(0,t.jsxs)(ie.VY,{className:se.error,side:"top",children:[(0,t.jsx)("div",{className:"flex flex-col gap-2",children:null==n?void 0:n.map((function(e,r){return(0,t.jsx)("span",{children:e},r)}))}),(0,t.jsx)(ie.Eh,{className:"fill-red-400"})]})]})})};function de(e,r,n,t,l,o){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return n(r(e));case 4:return t(n(r(e)));case 5:return l(t(n(r(e))));case 6:return o(l(t(n(r(e)))))}}var pe=function(e){return""!==e},me=function(e){return pe(e.trim())};function he(e){return de(C.fromPredicate(me,null!=e?e:"This field should not be blank"),C.transform((function(e){return e.trim()})))}var be=function(){return be=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var l in r=arguments[n])Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);return e},be.apply(this,arguments)},ve={name:"",lastName:""},ge={company:"",position:""},ye={name:"",years:""};function xe(e){var r=e.children;return(0,t.jsx)("span",{className:"block w-full border-b border-b-black pb-1 text-center text-xl",children:r})}function je(){var e=function(e){let r=function(e){let r=(0,l.useRef)(e),[n,t]=(0,l.useState)(J(r.current)),o=(0,l.useMemo)((()=>K(n)),[n]),a=(0,l.useMemo)((()=>Q(n)),[n]),u=(0,l.useCallback)((e=>{t((r=>U(r).blur(e)))}),[]),i=(0,l.useCallback)(((e,r)=>{t((n=>U(n).change(e,r)))}),[]),s=(0,l.useCallback)((e=>{t((r=>U(r).disable(e)))}),[]),c=(0,l.useCallback)((e=>{t((r=>U(r).enable(e)))}),[]),f=(0,l.useCallback)((e=>{t(J(e?e(a):r.current))}),[a]),d=(0,l.useCallback)(((e,r)=>{t((n=>U(n).setErrors(e,r)))}),[]),p=(0,l.useCallback)((e=>{t((r=>Z(r,e(a))))}),[a]),m=(0,l.useCallback)((e=>g(a,((r,n)=>("enable"===e?c:s)(n)))),[s,c,a]),h=(0,l.useCallback)((e=>g(e,((e,r)=>d(r,e)))),[d]);return{state:n,errors:o,values:a,blur:u,change:i,disable:s,enable:c,reset:f,setErrors:d,setValues:p,propagateErrors:h,toggle:m}}(e.form.initialValues),n=b((0,l.useRef)(e.fieldArray.initialValues).current,ne),t={form:r.values,fieldArray:b(n,(({values:e})=>e))},o=function({form:e,schema:r,validationStrategy:n}){function t(n){let t=r[n];null==t||t(e.state[n].value).then((r=>{e.setErrors(n,x(r)?r.failure:null)}))}return function(r){return m(p({},e.state[r]),{onBlur:()=>{e.blur(r),"onBlur"===n&&t(r)},onChange:l=>{e.change(r,l),"onChange"===n&&t(r)}})}}({form:r,schema:e.form.validators(t),validationStrategy:e.form.validationStrategy}),a=b(n,((r,n)=>({append:r.append,errors:r.errors,groups:W({fieldArray:r,schema:e.fieldArray.validators(t)[n],validationStrategy:e.fieldArray.validationStrategy}),handleReset:r.reset,remove:r.remove,setErrors:r.setErrors,setValues:r.setValues,values:r.values}))),[u,i]=(0,l.useState)(!1),s=e=>{i("disable"===e),r.toggle(e),g(n,(r=>r.toggle(e)))};return{fieldArray:a,form:{errors:r.errors,fieldProps:o,handleReset:r.reset,setErrors:r.setErrors,setValues:r.setValues,values:r.values},handleReset:()=>{r.reset(),g(n,(e=>e.reset()))},handleSubmit:l=>{s("disable"),Promise.all([ee(t.form,e.form.validators(t)),re(t.fieldArray,e.fieldArray.validators(t))]).then((([e,t])=>{if(O(e)&&O(t))(l instanceof Function?l:l.onSuccess)({form:e.success,fieldArray:t.success}).finally((()=>{s("enable")}));else{let o={form:null,fieldArray:null};x(e)&&(o.form=e.failure,r.propagateErrors(e.failure)),x(t)&&(o.fieldArray=t.failure,g(t.failure,((e,r)=>{n[r].propagateErrors(null!=e?e:[])}))),s("enable"),"onFailure"in l&&l.onFailure(o)}}))},isSubmitting:u}}({form:{initialValues:ve,validationStrategy:"onBlur",validators:function(){return{name:de(he(),C.chain(C.maxLength(32,"Name should be <= 32 chars long"))),lastName:C.sequence(he(),C.maxLength(32,"Name should be <= 32 chars long"))}}},fieldArray:{initialValues:{experience:[ge],technologies:[ye]},validationStrategy:"onBlur",validators:function(e){var r=e.fieldArray;return{experience:{company:he(),position:he()},technologies:{name:de(C.fromPredicate(pe,"This field is required"),C.chain(C.fromPredicate((function(e){return n=r.technologies.map((function(e){return e.name})),t=e,-1!==n.indexOf(t)&&n.indexOf(t)===n.lastIndexOf(t);var n,t}),"Please remove duplicates"))),years:he()}}}}}),r=e.form,n=e.fieldArray,o=e.handleReset,a=e.handleSubmit,u=e.isSubmitting;return(0,t.jsxs)("div",{className:"mx-auto flex w-[600px] flex-col gap-4 py-4",children:[(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,t.jsx)(xe,{children:"General information"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(fe,be({},r.fieldProps("name"),{placeholder:"Name"})),(0,t.jsx)(fe,be({},r.fieldProps("lastName"),{placeholder:"Last name"}))]})]}),(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,t.jsx)(xe,{children:"Experience"}),n.experience.groups.map((function(e,r){return(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(fe,be({},e.company,{placeholder:"Company name"})),(0,t.jsx)(fe,be({},e.position,{placeholder:"Position"})),(0,t.jsx)(ue,{color:"danger",onClick:function(){return n.experience.remove(r)},type:"button",children:"Remove"})]},r)})),(0,t.jsx)(ue,{onClick:function(){return n.experience.append(ge)},type:"button",children:"Add"})]}),(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,t.jsx)(xe,{children:"Technologies"}),n.technologies.groups.map((function(e,r){return(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(fe,be({},e.name,{placeholder:"Name"})),(0,t.jsx)(fe,be({},e.years,{placeholder:"Years of experience"})),(0,t.jsx)(ue,{color:"danger",onClick:function(){return n.technologies.remove(r)},type:"button",children:"Remove"})]},r)})),(0,t.jsx)(ue,{onClick:function(){return n.technologies.append(ye)},type:"button",children:"Add"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,t.jsx)(ue,{color:"danger",onClick:o,type:"reset",children:"Reset"}),(0,t.jsx)(ue,{color:"success",disabled:0===n.experience.groups.length,loading:u,onClick:function(){return a({onFailure:function(e){console.log("Failure",e)},onSuccess:function(e){return r=e,new Promise((function(e){setTimeout((function(){return e(console.log("Success",r))}),1e3)}));var r}})},type:"submit",children:"Submit"})]})]})}o.createRoot(document.getElementById("root")).render((0,t.jsx)(l.StrictMode,{children:(0,t.jsx)((function(){return(0,t.jsx)(je,{})}),{})}))}},l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(r,n,t,l)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,t,l]=e[c],u=!0,i=0;i<n.length;i++)(!1&l||a>=l)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(u=!1,l<a&&(a=l));if(u){e.splice(c--,1);var s=t();void 0!==s&&(r=s)}}return r}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,t,l]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var l=Object.create(null);o.r(l);var a={};r=r||[null,n({}),n([]),n(n)];for(var u=2&t&&e;"object"==typeof u&&!~r.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach((r=>a[r]=()=>e[r]));return a.default=()=>e,o.d(l,a),l},o.d=(e,r)=>{for(var n in r)o.o(r,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={296:0};o.O.j=r=>0===e[r];var r=(r,n)=>{var t,l,[a,u,i]=n,s=0;if(a.some((r=>0!==e[r]))){for(t in u)o.o(u,t)&&(o.m[t]=u[t]);if(i)var c=i(o)}for(r&&r(n);s<a.length;s++)l=a[s],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},n=self.webpackChunkdemo=self.webpackChunkdemo||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})();var a=o.O(void 0,[216],(()=>o(927)));a=o.O(a)})();